import{V as Z,j,k as _,l as q,W as z,U as b,X as v,Y as k,G as w,v as h,z as L,x as M,Z as E,_ as T,$ as A,M as P,u as C,w as d,a0 as V}from"./BAHzCZOW.js";const m=0,i=1,p=2;function X(D,G,f,x,H){_&&q();var n=D,y=Z(),U=P,a=b,r,t,u,l=(y?k:w)(void 0),I=(y?k:w)(void 0),o=!1;function c(e,s){o=!0,s&&(E(N),T(N),A(U));try{e===m&&f&&(r?C(r):r=h(()=>f(n))),e===i&&x&&(t?C(t):t=h(()=>x(n,l))),e!==m&&r&&d(r,()=>r=null),e!==i&&t&&d(t,()=>t=null),e!==p&&u&&d(u,()=>u=null)}finally{s&&(A(null),T(null),E(null),V())}}var N=j(()=>{if(a!==(a=G())){if(z(a)){var e=a;o=!1,e.then(s=>{e===a&&(v(l,s),c(i,!0))},s=>{if(e===a)throw v(I,s),c(p,!0),I.v}),_?f&&(r=h(()=>f(n))):L(()=>{o||c(m,!0)})}else v(l,a),c(i,!1);return()=>a=b}});_&&(n=M)}export{X as a};
